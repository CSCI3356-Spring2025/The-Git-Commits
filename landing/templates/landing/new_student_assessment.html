<!-- landing/templates/landing/student_assessment.html -->
{% extends "base.html" %}
{% load static %}
{% load l10n %}

{% block title %}
  <title>{{ assessment_title }} - PeerVue</title>
{% endblock %}

{% block head_content %}
  <style>
    a,
    button,
    input,
    select,
    h1,
    h2,
    h3,
    h4,
    h5,
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      border: none;
      text-decoration: none;
      background: none;
      -webkit-font-smoothing: antialiased;
    }
    
    menu, ol, ul {
      list-style-type: none;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: "KoHo", Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #F0F8FF;
    }
    
    /* Student Assessment Page */
    .student-assessment {
      position: relative;
      min-height: 100vh;
      padding-bottom: 50px;
    }
    
    .assessment-container {
      max-width: 1000px;
      margin: 170px auto 50px;
      padding: 0 20px;
    }
    
    /* Question Styles */
    .question {
      margin-bottom: 40px;
      position: relative;
    }
    
    .question-text {
      background: #aae7f2;
      border-radius: 50px;
      padding: 10px 20px;
      font-family: "KoHo", sans-serif;
      font-size: 16px;
      font-weight: 500;
      text-align: center;
      margin-bottom: 15px;
      display: inline-block;
    }
    
    .likert-scale {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 15px 0;
      width: 100%;
      max-width: 800px;
    }
    
    .likert-option {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      margin: 0 10px;
    }
    
    .likert-option label {
      margin-top: 5px;
      font-size: 14px;
      cursor: pointer;
    }
    
    /* Custom radio buttons */
    .radio-container {
      position: relative;
      width: 23px;
      height: 23px;
    }
    
    .radio-container input[type="radio"] {
      opacity: 0;
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 10;
      cursor: pointer;
    }
    
    .radio-circle {
      position: absolute;
      top: 0;
      left: 0;
      width: 23px;
      height: 23px;
      background: #dcf4f9;
      border-radius: 50%;
      border: 1px solid #1b0061;
      box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);
    }
    
    .radio-container input[type="radio"]:checked + .radio-circle {
      background: #1b0061;
    }
    
    /* Text area styles */
    .text-input {
      width: 100%;
      height: 100px;
      background: #dcf4f9;
      border-radius: 5px;
      border: 1px solid #1b0061;
      padding: 15px;
      font-family: "KoHo", sans-serif;
      font-size: 16px;
      margin-top: 10px;
      resize: none;
    }
    
    /* Submit button */
    .submit-btn {
      background: #aae7f2;
      border-radius: 50px;
      padding: 8px 25px;
      font-family: "KoHo", sans-serif;
      font-size: 20px;
      font-weight: 500;
      margin-top: 30px;
      float: right;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    .submit-btn:hover {
      background: #8ad5e2;
    }
    
    /* Navbar Styles */
    .navbar {
      background: rgba(164, 218, 255, 0.25);
      border-bottom: 1px solid #000000;
      width: 100%;
      height: 143px;
      position: fixed;
      left: 0;
      top: 0;
      box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
    }
    
    .nav-logo {
      background: #1b0061;
      border-radius: 50px;
      width: 221px;
      height: 78px;
      margin-left: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .peer-vue {
      color: #ffffff;
      text-align: center;
      font-family: "KoHo", sans-serif;
      font-size: 45px;
      font-weight: 400;
    }
    
    .nav-links {
      display: flex;
      gap: 30px;
    }
    
    .nav-btn {
      background: #1b0061;
      border-radius: 50px;
      width: 191px;
      height: 57px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
    }
    
    .nav-text {
      color: #ffffff;
      text-align: center;
      font-family: "KoHo", sans-serif;
      font-size: 20px;
      font-weight: 400;
    }
    
    .team-name {
      color: #1b0061;
      text-align: right;
      font-family: "KoHo", sans-serif;
      font-size: 20px;
      font-weight: 400;
      margin-right: 15px;
    }
    
    .due-date {
      position: absolute;
      top: 160px;
      right: 20px;
      font-family: "KoHo", sans-serif;
      font-size: 20px;
      font-weight: 400;
      color: #000000;
    }
    
    /* Clear fix for the form */
    .clearfix::after {
      content: "";
      clear: both;
      display: table;
    }
  </style>
{% endblock %}

{% block content %}
  <div class="student-assessment">
    <!-- Navbar -->
    <div class="navbar">
      <a href="{% url 'landing:dashboard' %}" class="nav-logo">
        <div class="peer-vue">PeerVue</div>
      </a>
      
      <div class="nav-links">
        <a href="#" class="nav-btn">
          <div class="nav-text">Courses</div>
        </a>
        <a href="{% url 'landing:student_assessment_list' %}" class="nav-btn">
          <div class="nav-text">Assessments</div>
        </a>
        <a href="#" class="nav-btn">
          <div class="nav-text">Feedback</div>
        </a>
      </div>
      
      <div class="team-name">
        The Git Commits
      </div>
    </div>
    
    <div class="due-date">Due: {{ due_date|date:"DATETIME_FORMAT" }}</div>
    <!-- <div class="due-date">{{ due_date|date:"D, F jS \a\t g:i:s A (e)" }}</div> -->
    
    <div class="assessment-container">
      <form method="post" action="{% url 'landing:student_assessment_list' %}" class="clearfix">
        {% csrf_token %}

        {% for question in questions %}
          <div class="question">
            <div class="question-text">{{question.question}}</div>
            {% if question.question_type == "likert" %}
              <div class="likert-scale">
                <div class="likert-option">
                  <div class="radio-container">
                    <input type="radio" id="q1-5" name="{{question.pk}}" value="5">
                    <div class="radio-circle"></div>
                  </div>
                  <label for="q1-5">Strongly Agree</label>
                </div>
                <div class="likert-option">
                  <div class="radio-container">
                    <input type="radio" id="q1-4" name="{{question.pk}}" value="4">
                    <div class="radio-circle"></div>
                  </div>
                  <label for="q1-4">Agree</label>
                </div>
                <div class="likert-option">
                  <div class="radio-container">
                    <input type="radio" id="q1-3" name="{{question.pk}}" value="3">
                    <div class="radio-circle"></div>
                  </div>
                  <label for="q1-3">Neutral</label>
                </div>
                <div class="likert-option">
                  <div class="radio-container">
                    <input type="radio" id="q1-2" name="{{question.pk}}" value="2">
                    <div class="radio-circle"></div>
                  </div>
                  <label for="q1-2">Disagree</label>
                </div>
                <div class="likert-option">
                  <div class="radio-container">
                    <input type="radio" id="q1-1" name="{{question.pk}}" value="1">
                    <div class="radio-circle"></div>
                  </div>
                  <label for="q1-1">Strongly Disagree</label>
                </div>
              </div>
            {% else %}
              <textarea name="{{question.pk}}" class="text-input" placeholder="Enter response here..."></textarea>
            {% endif %}
          </div>

        {% endfor %}
        
        <!-- Submit button -->
        <button type="submit" class="submit-btn">Submit</button>
      </form>
    </div>
  </div>
{% endblock %}
